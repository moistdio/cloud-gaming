# Minimal Sunshine Configuration - Segfault Prevention
# Use this config to avoid crashes in containerized environments

# Network Configuration
address_family = both
port = ${SUNSHINE_BASE_PORT:-47984}
origin_web_ui_allowed = pc

# Display Configuration
output_name = :1.0
capture = x11

# Force Software Encoding Only (prevents segfaults)
encoder = software
force_software_encoding = true

# Explicitly disable hardware encoders that cause crashes
nvenc = disabled
vaapi = disabled
qsv = disabled

# Basic Video Settings (conservative for stability)
bitrate = 8000
fps = 30
sw_preset = ultrafast

# Disable Input Features (prevent device access errors)
gamepad = disabled
mouse = disabled
keyboard = disabled

# Audio Configuration
audio_sink = pulse

# Security
username = user
password = sunshine

# Disable Network Features That May Cause Issues
upnp = disabled
lan_encryption = disabled

# Logging
min_log_level = warning
log_path = /home/user/.config/sunshine/sunshine.log

# X11 Display
x11_display = :1 